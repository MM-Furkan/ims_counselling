global class RESTGetCentreBatch implements Database.Batchable<Object>,   Database.AllowsCallouts{
    
    List<Object> codeList;
    public RESTGetCentreBatch(List<Object> tempCodeList){
        System.debug('I am called constructor-->'+tempCodeList);
        codeList=tempCodeList;
        System.debug('After assign-->'+codeList);
    }
    
    public String query = 'SELECT Id, Name, City_Code__c FROM City__c';
    global  Iterable <Object> start(Database.BatchableContext BC) {
        System.debug('I am called start-->');
        return codeList;//Database.getQueryLocator(query);
       
    }
    global void execute(Database.BatchableContext BC, List<Object> records) { 
        System.debug('I am called execute-->'+records);
        List<Centre__c> updateStudList = new List<Centre__c>();
        List<Centre__c> insertStudList = new List<Centre__c>();
        
        
        
        Object o  = records[0];
        
        
        
       
        
       /* List<Centre__c> centreList = [SELECT ID, Name, Centre_Code__c FROM Centre__c WHERE Centre_City__r.City_Code__c=:records];
        System.debug('I am geting centre list from Query-->'+centreList);
        Map<String,Centre__c> stMAp = new Map<String,Centre__c>();
        for(Centre__c ct:centreList){
            stMAp.put(ct.Centre_Code__c, ct);
        }
        
        For(String st:records){
            If(stMAp.get(st)!=NULL){
                Centre__c o = stMAp.get(st);
                o.Name = st.Centre;
                updateStudList.add(o);
            }else{
                Centre__c c = new Centre__c();
                c.Name = st.Centre;
                c.Centre_Code__c = st.Code;
                
                insertStudList.add(c);
            }
            
        }
        
        
        
        System.debug('After preparing list for Update Print please---'+updateStudList);
        update updateStudList;
        insert insertStudList;
        
        
        System.debug('After update list for Update Print please---'+updateStudList);
        System.debug('After preparing list for insert Print please---'+insertStudList);*/
    }
    global void finish(Database.BatchableContext BC){    
    }
    //
    // Generated by JSON2Apex http://json2apex.herokuapp.com/
    //
    
    public class JSON2ApexGetCentre {
        
        public List<Centre> centre;
    }
    
    public class Centre {
        public String Code;
        public String Centre;
    }
    
    
    public static JSON2ApexGetCentre parse(String json) {
        return (JSON2ApexGetCentre) System.JSON.deserialize(json, JSON2ApexGetCentre.class);
    }
    
    
}